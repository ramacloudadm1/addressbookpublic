apply plugin: 'java'

repositories {
    mavenCentral()
}

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }
    test {
        java {
            srcDirs = ['test/java']
        }
    }
}

dependencies {
    testCompile 'junit:junit:4.12'
}

test {
    /**
     * Logs the name of each test case before running it in the a CI environment (like travis)
     * This assures everyone reading through the Travis CI job log that all tests have been
     * executed and the lack of output is the tests passing.
     *
     * Without this, the job log of each build will look very empty (no news is good news concept)
     * and one might suspect the integrity of the new build even if the build passed
     */
    if (System.env.'CI') {
       beforeTest { descriptor ->
           logger.lifecycle('Running test: ' + descriptor)
       }
    }
}

compileJava {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
}

defaultTasks 'clean', 'test'
